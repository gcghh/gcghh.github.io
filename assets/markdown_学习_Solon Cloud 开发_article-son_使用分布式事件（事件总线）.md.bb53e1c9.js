import{_ as s,v as n,b as a,R as l}from"./chunks/framework.caa0fbaf.js";const i=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"markdown/学习/Solon Cloud 开发/article-son/使用分布式事件（事件总线）.md","filePath":"markdown/学习/Solon Cloud 开发/article-son/使用分布式事件（事件总线）.md"}'),o={name:"markdown/学习/Solon Cloud 开发/article-son/使用分布式事件（事件总线）.md"},p=l(`<p><a href="/article/family-solon-cloud-event">生态 / Solon Cloud Event [传送]</a></p><h3 id="_1、情况简介" tabindex="-1">1、情况简介 <a class="header-anchor" href="#_1、情况简介" aria-label="Permalink to &quot;1、情况简介&quot;">​</a></h3><p>使用分布式事件（或事件总线）可实现业务水平扩展、分布式事务效果（目前适配有：local, water, rabbitmq, rocketmq, mqtt, kafka，等）。</p><ul><li>主要通过 CloudEventServicePlus 接口进行适配</li><li>使用 CloudClient.event() 获取适配实例</li></ul><h3 id="_2、五个特性" tabindex="-1">2、五个特性 <a class="header-anchor" href="#_2、五个特性" aria-label="Permalink to &quot;2、五个特性&quot;">​</a></h3><ul><li>可确认（ack）</li></ul><p>支持是否成功消费的确认机制</p><ul><li>可重试守护（retry）</li></ul><p>消费失败后不断重发确保最终成功。此特性可支持SAGA分布式事务模型，实现<strong>最终一致性</strong>。事件消费时，注要<strong>幂等性</strong>控制。</p><ul><li>可自动延时</li></ul><p>消费失败后会自动延时（目前支持有： local, water, rabbitmq, rocketmq, rocketmq5, aliyun-ons）</p><ul><li>可定时事件</li></ul><p>比如，可设定10天后执行</p><ul><li>可多插件共存（多通道模式）</li></ul><p>支持多个插件同时存在，按业务做不同安排。例如：业务消息用 RabbitMQ，IoT消息用 Mqtt，日志用 kafka。</p><p><strong>支持情况</strong></p><table><thead><tr><th>适配框架</th><th>确认与重试守护</th><th>自动延时</th><th>定时事件</th></tr></thead><tbody><tr><td>local</td><td>支持</td><td>支持</td><td>支持</td></tr><tr><td>water</td><td>支持</td><td>支持</td><td>支持</td></tr><tr><td>rabbitmq</td><td>支持</td><td>支持</td><td>支持</td></tr><tr><td>rocketmq（开源版）</td><td>支持</td><td>支持（有自己的策略）</td><td>半支持（最长2小时）</td></tr><tr><td>rocketmq5（开源版）</td><td>支持</td><td>支持</td><td>支持（有最长时限）</td></tr><tr><td>mqtt</td><td>支持</td><td>/</td><td>/</td></tr><tr><td>kafka</td><td>支持</td><td>/</td><td>/</td></tr><tr><td>jedis</td><td>/</td><td>/</td><td>/</td></tr></tbody></table><h3 id="_3、失败自动延时策略-不同框架会有不同" tabindex="-1">3、失败自动延时策略（不同框架会有不同） <a class="header-anchor" href="#_3、失败自动延时策略-不同框架会有不同" aria-label="Permalink to &quot;3、失败自动延时策略（不同框架会有不同）&quot;">​</a></h3><table><thead><tr><th>失败次数</th><th>延时</th></tr></thead><tbody><tr><td>0</td><td>0s</td></tr><tr><td>1</td><td>5s</td></tr><tr><td>2</td><td>10s</td></tr><tr><td>3</td><td>30s</td></tr><tr><td>4</td><td>1m（即 1 分钟）</td></tr><tr><td>5</td><td>2m</td></tr><tr><td>6</td><td>5m</td></tr><tr><td>7</td><td>10m</td></tr><tr><td>8</td><td>30m</td></tr><tr><td>9</td><td>1h（即 1 小时）</td></tr><tr><td>n</td><td>2h</td></tr></tbody></table><h3 id="_4、示例" tabindex="-1">4、示例 <a class="header-anchor" href="#_4、示例" aria-label="Permalink to &quot;4、示例&quot;">​</a></h3><p>发布事件</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">EventController</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onUserRegistered</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">long</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">user_id</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//用户注册完成后，发布一个事件</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">Event</span><span style="color:#A6ACCD;"> event </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Event</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">user.registered</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> String</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">user_id</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">:%d}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> user_id</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">        CloudClient</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">event</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">publish</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//用户注册完成后，发布一个事件（10天后执行）</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">Date</span><span style="color:#A6ACCD;"> eventTime </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> DateTime</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Now</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">addDay</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">Event</span><span style="color:#A6ACCD;"> event </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Event</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">user.registered</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> String</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">user_id</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">:%d}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> user_id</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">        CloudClient</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">event</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">publish</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">scheduled</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">eventTime</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>事件订阅与处理</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">CloudEvent</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">user.registered</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">EventHandlerImpl</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">implements</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">CloudEventHandler</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">boolean</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">handler</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Event</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">event</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">throws</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Throwable</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//用户注册完成后，送个金币...</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>拦截事件处理（记录消耗时间，日志等...）</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Component</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">EventInterceptorImpl</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">implements</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">CloudEventInterceptor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Logger</span><span style="color:#A6ACCD;"> log </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> LoggerFactory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getLogger</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">BaseEventInterceptor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">boolean</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">doIntercept</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Event</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">event</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">CloudEventHandler</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">handler</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">throws</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Throwable</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        TagsMDC</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">tag0</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">event</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        TagsMDC</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">tag1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">topic</span><span style="color:#89DDFF;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Utils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isNotEmpty</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">tags</span><span style="color:#89DDFF;">()))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            TagsMDC</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">tag2</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">tags</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        TagsMDC</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">tag3</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">key</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">Timecount</span><span style="color:#A6ACCD;"> timecount </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Timecount</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">long</span><span style="color:#A6ACCD;"> timespan </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#C792EA;">boolean</span><span style="color:#A6ACCD;"> succeeded </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> handler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">handle</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            timespan </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> timecount</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stop</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">milliseconds</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">succeeded</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Event execution succeeded @{}ms</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> timespan</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warn</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Event execution failed @{}ms</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> timespan</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Throwable</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            timespan </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> timecount</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stop</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">milliseconds</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">            log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Event execution error @{}ms: {}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> timespan</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">finally</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">timespan </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                CloudClient</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">metric</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">addMeter</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Solon</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cfg</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">appName</span><span style="color:#89DDFF;">(),</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">event</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">topic</span><span style="color:#89DDFF;">(),</span><span style="color:#A6ACCD;"> timespan</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="_5、增强模式" tabindex="-1">5、增强模式 <a class="header-anchor" href="#_5、增强模式" aria-label="Permalink to &quot;5、增强模式&quot;">​</a></h3><p>详见： <a href="/article/144.html">《生态 / solon cloud / cloudevent-plus-solon-plugin》</a></p><h3 id="_6、多通道模式" tabindex="-1">6、多通道模式 <a class="header-anchor" href="#_6、多通道模式" aria-label="Permalink to &quot;6、多通道模式&quot;">​</a></h3><p>详见： <a href="https://gitee.com/noear/solon-examples/tree/main/9.Solon-Cloud/demo9039-event_multi_channel2" target="_blank" rel="noreferrer">demo9039-event_multi_channel2</a></p><h3 id="_7、代码演示" tabindex="-1">7、代码演示 <a class="header-anchor" href="#_7、代码演示" aria-label="Permalink to &quot;7、代码演示&quot;">​</a></h3><ul><li><a href="https://gitee.com/noear/solon-examples/tree/main/9.Solon-Cloud/demo9031-event_rabbitmq" target="_blank" rel="noreferrer">demo9031-event_rabbitmq</a></li><li><a href="https://gitee.com/noear/solon-examples/tree/main/9.Solon-Cloud/demo9032-event_rocketmq" target="_blank" rel="noreferrer">demo9032-event_rocketmq</a></li><li><a href="https://gitee.com/noear/solon-examples/tree/main/9.Solon-Cloud/demo9033-event_mqtt" target="_blank" rel="noreferrer">demo9033-event_mqtt</a></li><li><a href="https://gitee.com/noear/solon-examples/tree/main/9.Solon-Cloud/demo9034-event_kafka" target="_blank" rel="noreferrer">demo9034-event_kafka</a></li><li><a href="https://gitee.com/noear/solon-examples/tree/main/9.Solon-Cloud/demo9038-event_multi_channel" target="_blank" rel="noreferrer">demo9038-event_multi_channel</a></li><li><a href="https://gitee.com/noear/solon-examples/tree/main/9.Solon-Cloud/demo9039-event_multi_channel2" target="_blank" rel="noreferrer">demo9039-event_multi_channel2</a></li></ul>`,32),t=[p];function e(r,c,D,y,F,A){return n(),a("div",null,t)}const d=s(o,[["render",e]]);export{i as __pageData,d as default};
