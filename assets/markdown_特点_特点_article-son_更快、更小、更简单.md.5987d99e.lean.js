import{_ as s,v as a,b as l,R as n}from"./chunks/framework.caa0fbaf.js";const A=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"markdown/特点/特点/article-son/更快、更小、更简单.md","filePath":"markdown/特点/特点/article-son/更快、更小、更简单.md"}'),t={name:"markdown/特点/特点/article-son/更快、更小、更简单.md"},o=n(`<h3 id="_1、所谓更快" tabindex="-1">1、所谓更快： <a class="header-anchor" href="#_1、所谓更快" aria-label="Permalink to &quot;1、所谓更快：&quot;">​</a></h3><ul><li>启动快 5 ～ 10 倍</li><li>本机 Helloworld 测试，Qps 可达10万之多。具体可参考：《<a href="https://gitee.com/noear/helloworld_wrk_test" target="_blank" rel="noreferrer">helloworld_wrk_test</a>》</li></ul><table><thead><tr><th>solon 1.12.2</th><th>大小</th><th>QPS</th></tr></thead><tbody><tr><td>solon.boot.jdkhttp(bio)</td><td>0.2m</td><td>6.4万左右</td></tr><tr><td>solon.boot.jlhttp(bio)</td><td>0.3m</td><td>13.2万左右</td></tr><tr><td>solon.boot.jetty(nio, 支持servlet api)</td><td>2.2m</td><td>12.3万左右</td></tr><tr><td>solon.boot.undertow(nio, 支持servlet api)</td><td>4.5m</td><td>12.0万左右</td></tr><tr><td>solon.boot.smarthttp(aio) [国产]</td><td>0.7m</td><td>16.6万左右</td></tr></tbody></table><table><thead><tr><th>spring boot 2.3.3</th><th>大小</th><th>QPS</th></tr></thead><tbody><tr><td>spring-boot-starter-tomcat</td><td>16.1m</td><td>3.2万左右</td></tr><tr><td>spring-boot-starter-jetty</td><td>16m</td><td>3.7万左右</td></tr><tr><td>spring-boot-starter-undertow</td><td>16.8m</td><td>4.4万左右</td></tr></tbody></table><h3 id="_2、所谓更小" tabindex="-1">2、所谓更小： <a class="header-anchor" href="#_2、所谓更小" aria-label="Permalink to &quot;2、所谓更小：&quot;">​</a></h3><ul><li>最小 Web 完整开发单位 1Mb（相比 Springboot 项目包，小到可以乎略不计了）</li><li>打包可以缩到 1/2 ~ 1/10</li><li>运行时内存可降到 1/3 - 1/2</li></ul><h3 id="_3、所谓更简单" tabindex="-1">3、所谓更简单： <a class="header-anchor" href="#_3、所谓更简单" aria-label="Permalink to &quot;3、所谓更简单：&quot;">​</a></h3><ul><li>代码操控：除了注解模式之外，还可以按需手动（不用绕，更直接）。</li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//手动获取配置（Props 为 Properties 增强版）</span></span>
<span class="line"><span style="color:#C792EA;">Props</span><span style="color:#A6ACCD;"> db </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Solon</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cfg</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getProp</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">db</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//手动获取容器里的Bean</span></span>
<span class="line"><span style="color:#C792EA;">UserService</span><span style="color:#A6ACCD;"> userService </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Solon</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">context</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getBean</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">UserService</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//手动监听http post请求</span></span>
<span class="line"><span style="color:#A6ACCD;">Solon</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">app</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">post</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/user/update</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> x</span><span style="color:#C792EA;">-&gt;</span><span style="color:#A6ACCD;"> userService</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">updateById</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">paramMap</span><span style="color:#89DDFF;">()));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//手动添加个RPC服务</span></span>
<span class="line"><span style="color:#A6ACCD;">Solon</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">app</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/rpc/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> HelloService</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//手动获取一个RPC服务消费端</span></span>
<span class="line"><span style="color:#C792EA;">HelloService</span><span style="color:#A6ACCD;"> helloService </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Nami</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">builder</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">HelloService</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//手动为容器添加组件</span></span>
<span class="line"><span style="color:#A6ACCD;">Solon</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">context</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">wrapAndPut</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">DemoService</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">);</span></span></code></pre></div><ul><li>生态丰富，选择自由：</li></ul><p>可以用 solon-web 这样的快速开发集成包。也可以按项目需要选择不同的插件组装，比如：为非 Solon 项目添加solon.boot.jlhttp，0.3Mb 即可让项目实现 http + mvc 支持。</p>`,11),p=[o];function e(r,c,F,D,y,i){return a(),l("div",null,p)}const C=s(t,[["render",e]]);export{A as __pageData,C as default};
